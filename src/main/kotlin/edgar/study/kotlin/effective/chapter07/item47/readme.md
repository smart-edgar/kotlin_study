# 아이템47. 인라인 클래스의 사용을 고려하라
인라인으로 만들 수 있는 것은 함수뿐만이 아닙니다.<br>
하나의 값을 보유하는 객체도 ㅑnline으로 만들 수 있습니다.<br>
기본 생성자 프로퍼티가 하나인 클래스 앞에 inline을 붙이면 해당 객체를 사용하는 위치가 모두 해당 프로퍼티로 교체됩니다.

이러한 inline 클래스는 타입만 맞다면 그냥 값을 곧바로 집어넣는것도 허용됩니다.
inline 클래스의 메서드는 모두 정적 메서드로 만들어집니다.

인라인 클래스는 다른 자료형을 래핑해서 새로운 자료형을 만들 때 많이 사용됩니다.<br>
이때 어떠한 오버헤드도 발생하지 않았습니다.<br>
inline 클래스는 다음과 같은 상황에서 많이 사용됩니다.
- 측정 단위를 표현할 때
- 타입 오용으로 발생하는 문제를 막을 때

## 측정 단위를 표현할 때
타이머 클래스를 만드는 경우 특정 시간후에 파라미터로 받은 함수를 호출합니다.<br>
이때 시간은 정확하게 어떤단위인지 명확하지 않습니다.

이러한 문제를 해결할 수 있는 가장 쉬운 방법은 파라미터 이름에 측정 단위를 붙여주는 것 입니다.<br>
하지만 함수를 사용할 때 프로퍼티 이름이 표시되지 않을수 있으므로 여전히 실수를 할수 있습니다.<br>
또한 파라미터는 이름을 붙일 수 있지만 리턴 값은 이름을 붙일 수 없습니다.<br>
물론 함수에 이름을 붙여서 어떤 단위로 리턴하는지 알려 줄수 있습니다.<br>
하지만 이러한 해결 방법은 함수를 더 길게 만들고 필요없는 정보까지도 전달해 줄 가능성이 있으므로 실제로는 거의 사용되지 않습니다.

더 좋은 방법은 타입에 제한을 거는 것입니다.<br>
제한을 걸면 제네릭 유형을 잘못 사용하는 문제를 줄일 수 있습니다.<br>
이때 코드를 더 효율적으로 만들려면 다음과 같이 인라인 클래스를 활용합니다.

## 타입 오용으로 발생하는 문제를 막을 때
SQL 데이터베이스는 일반적으로 ID를 사용해서 요소를 식별합니다.<br>
ID는 일반적으로 단순한 숫자입니다.<br>
모든 ID가 Int 자료형이므로 실수로 잘못된 값을 넣을 수 있습니다.<br>
또한 이러한 문제가 발생했을때 어떠한 오류도 발생하지 않으므로 문제를 찾는게 힘들어 집니다.

[fun01.kt](fun01.kt)<br>
이렇게 하면 굉장히 안전해지면서 컴파일 할때 타입이 Int로 대체되므로 코드를 바꾸어도 별도의 문제가 발생하지 않습니다.<br>
이처럼 인라인 클래스를 사용하면 안전을 위해 새로운 타입을 도입해도 추가적인 오버헤드가 발생하지 않습니다.

## 인라인 클래스와 인터페이스
인라인 클래스도 다른 클래스와 마찬가지로 인터페이스를 구현할 수 있습니다.<br>
[fun02.kt](fun02.kt)<br>
하지만 클래스가 inline으로 동작하지 않습니다.<br>
따라서 클래스를 inline으로 만들었을때 얻을 수 있는 장점이 하나도 없습니다.<br>
인터페이스를 통해서 타입을 나타내려면 객체를 래핑해서 사용해야 하기 때문입니다.<br>
인터페이스를 구현하는 인라인 클래스는 아무런 의미가 없습니다.


## typealias
typealias를 사용하면 타입에 새로운 이름을 붙여 줄 수 있습니다.<br>
[fun03.kt](fun03.kt)<br>
이러한 typealias는 길고 반복적으로 사용해야 할때 많이 유용합니다.<br>
하지만 typealias는 안전하지 않습니다.
[fun04.kt](fun04.kt)<br>
단위 등을 표현하려면 파리미터 이름 또는 클래스를 사용하세요.<br>
이름은 비용이 적게 들고 클래스는 안전합니다.<br>
인라인 클래스를 사용하면 비용과 안전이라는 두마리 토끼를 잡을 수 있습니다.



## 정리
인라인 클래스를 사용하면 성능적인 오버헤드 없이 타입을 래핑할 수 있습니다.<br>
인라인 클래스는 타입 시스템을 통해 실수로 코드를 잘못 작성하는 것을 막아주므로 코드의 안정성을 향상시켜줍니다.<br>
의미가 명확하지 않은 타입, 여러 측정 단위들을 함께 사용하는 경우에는 인라인 클래스를 꼭 활용하세요.

# 아이템51. 성능이 중요한 부분에는 기본 자료형 배열을 사용하라
코틀린은 기본 자료형(primitive)을 선언할 수 없지만 최적화를 위해서 내부적으로는 사용할 수 있습니다.<br>
기본 자료형은 다음과 같은 특징이 있습니다.
- 가볍습니다. 일반적인 객체와 다르게 추가적으로 포함되는 것들이 없기 때문입니다.
- 빠릅니다. 값에 접근할 때 추가 비용이 들어가지 않습니다.

따라서 개듀고의 데이터를 처리할때 기본 자료형을 사용하면 상당히 큰 최적화가 이루어집니다.<br>
코틀린에서 사용되는 List와 Set 등의 컬렉션은 제네릭 타입입니다.<br>
제네릭 타입에는 기본 자료형을 사용할 수 없으므로 랩핑된 타입을 사용해야합니다.<br>
성능이 중요한 코드라면 IntArray와 LongArray 등의 기본 자료형을 활용하는 배열을 사용하는 것이 좋습니다.

| 코틀린타입        | 자바타입            |
|--------------|-----------------|
| Int          | Int             |
| List< Int >  | List< Integer > |
| Array< Int > | Integer[]       |
| IntArray     | int[]           |

기본 자료형 배열은 1,000,000개의 정수를 갖는 컬렉션을 만들다면
- IntArray : 400,000,016바이트
- List< Int > : 2,000,006,944바이트

5배 정도의 차이가 발생합니다.<br>
메모리 소비가 중요하다면 기본 자료형 배열을 사용하는 것이 좋습니다.<br>
성능적으로 차이도 있습니다.<br>
1,000,000개의 숫자를 갖는 컬렉션을 사용해서 평균을 구하는 처리를 해보면 배열을 사용하는 경우가 25%정도 더 빠릅니다.

기본 자료형을 포함한 배열은 코드 성능이 중요한 부분을 최적화 할 때 활용하면 좋습니다.<br>
배열은 더 적은 메모리를 차지하고 더 빠르게 동작합니다.<br>
다만 일반적인 경우에는 List를 사용하는 것이 좋습니다.<br>
List가 훨씬 더 기능이 다양하며 더 많은 곳에 쉽게 사용될수 있습니다.<br>
성능이 중요한 경우에는 Array를 떠올려 주세요.

## 정리
Array보다 List와 Set을 사용하는 것이 좋습니다.<br>
하지만 기본 자료형의 컬렉션을 굉장히 많이 보유해야 하는 경우에는 성능을 높이고 메모리 사용량을 줄일수 있도록 Array를 사용하는 것이 좋습니다.

# 아이템42. compareTo의 규약을 지켜라

compareTo 메서드는 Any 클래스에 있는 메서드가 아닙니다.<br>
이는 수학적인 부등식으로 변환되는 연산자 입니다.

```
obj1 > obj2  // obj1.compareTo(obj2) > 0으로 바뀝니다.
obj1 < obj2  // obj1.compareTo(obj2) < 0으로 바뀝니다.
obj1 >= obj2  // obj1.compareTo(obj2) >= 0으로 바뀝니다.
obj1 >= obj2  // obj1.compareTo(obj2) <= 0으로 바뀝니다.
```

참고로 compareTo 메서드는 Comparable<T> 인터페이스에도 들어가 있습니다.<br>
이 인터페이스를 구현하고 있거나 compareTo 연산자 메서드를 가지고 있다는 의미는 해당 객체가 어떤 순서를 갖고 있으므로 비교할 수 있다는 것입니다.<br>
compareTo는 다음과 같이 동작해야 합니다.
- 비대칭적 동작 : a >= b이고 b >= a 라면 a == b여야 합니다.
- 연속적 동작 : a >= b이고 b >= c 라면 a >= c여야 합니다.
- 코넥스적 동작 : 두 요소는 어떤 확실한 관계를 가지고 있어야 합니다. a >= b 또는 b >= a 중에 적어도 하나는 항상 true여야 합니다.(위상 정렬과 같은 정렬알고리즘만 사용할 수 있습니다.)


## compareTo를 따로 정의해야 할까?
코틀린에서 compareTo를 따로 정의해야 하는 상황은 거의 없습니다.<br>
일반적으로 어떤 프로퍼티 하나를 기반으로 순서를 지정하는 것으로 충분하기 때문입니다.<br>
예를들어 sortedBy를 사용하면 원하는 키로 컬렉션을 정렬할수 있습니다.

여러 프로퍼티 기반으로 정렬해야 한다면 sortedWith 함수를 사용하면 됩니다.<br>

문자열은 알파벳과 숫자등의 순서가 있습니다.<br>
따라서 내부적으로 comparable<String>을 구현하고 있습니다.<br>
텍스트는 알파벳과 숫자 순서로 정렬해야 하는 경우가 많으므로 굉장히 유용합니다.<br>
하지만 단점도 있습니다.<br>
직관적이지 않은 부등호 기호를 기반으로 두 문자열을 비교하는 코드 경우는 comparator를 사용하는 것이 좋습니다.<br>
자주 사용한다면 클래스에 companion 객체로 만들어 두는것도 좋습니다.


## compareTo 구현하기
compareTo를 구현할때 유용하게 활용할수 있는 톱레벨 함수가 있습니다.<br>
단순하게 비교하기만 한다면 compareValues 함수를 활용할수 있습니다.<br>
더 많은 값을 비교하거나 selector를 활용해서 비교하고 싶다면 compareValuesBy를 사용합니다.

특별한 논리를 구현해야 하는 경우에는 함수가 다음 값을 리턴해야 한다는것을 기억하세요
- 0 : 리시버와 other가 같은 경우
- 양수 : 리시버가 other보다 큰 경우
- 음수 : 리시버가 other보다 작은 경우
